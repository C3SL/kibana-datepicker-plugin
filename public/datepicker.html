<!-- A great part of this plugin was copied from https://github.com/elastic/kibana/tree/master/src/ui/public/timepicker -->
<div ng-controller="KbnDatePickerController" class="kbn-timepicker">
    <div class="tab-content">
        <div class="tab-pane active">
            <form name="absoluteTime" ng-submit="applyAbsolute()">
                <div class="kbn-timepicker-section">
                    <div>
                        <label class="small">From: <span ng-show="!time.absolute_from"><i>Invalid Date</i></span>
                        </label>
                        <input type="text" required ng-if="!vis.params.hide_input" class="form-control" input-datetime="{{format}}" ng-model="time.absolute_from">
                    </div>
                    <div ng-if="!vis.params.hide_calendar">
                        <datepicker ng-model="time.absolute_from" max-date="time.absolute_to" show-weeks="false"></datepicker>
                    </div>
                </div>

                <div class="kbn-timepicker-section">
                    <div>
                        <label class="small">To:
                            <a class="label label-default" ng-click="setToNow()">Set To Now</a>
                        </label>
                        <span ng-show="!time.absolute_to"><i>Invalid Date</i></span>
                        <input type="text" required ng-if="!vis.params.hide_input" class="form-control" input-datetime="{{format}}" ng-model="time.absolute_to">
                    </div>
                    <div ng-if="!vis.params.hide_calendar">
                        <datepicker ng-model="time.absolute_to" min-date="time.absolute_from" show-weeks="false"></datepicker>
                    </div>
                </div>

                <div class="kbn-timepicker-section kbn-timepicker-alert" ng-class="{ 'col-xs-12': !vis.params.submit_right }">
                    <label>&nbsp;</label>
                    <div class="form-group">
                        <button class="btn btn-primary kbn-timepicker-go" ng-disabled="time.absolute_from > time.absolute_to || !time.absolute_from || !time.absolute_to" type="submit">
                            Go
                        </button>
                        <span class="small" ng-show="time.absolute_from > time.absolute_to"><strong>From</strong> must occur before <strong>To</strong></span>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
